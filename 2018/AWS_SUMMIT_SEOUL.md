# AWS SUMMIT SEOUL 2018

 

## 기조 연설

> Dr. Werner Vogels AWS 아마존 닷컴 CTO

#### Virtual Machine. Container. Serverless

- 기술 순으로 보면 VMàContaineràServerless 이지만 최근에나온 형태가 기존의 환경을 완벽하게 대체하지는 않을 것.
- 적재적소에 각각의 기술을 활용하여 서비스를 구성하는 것이 중요.
- 용도에 맞게 각 형태별로 장점을 가져갈 필요성 증가.
- 아마존은 사용자가 용도에 맞게 구성할 수 있도록 각각의 기술을 완벽히 제공하는 것을 목표로 함.
- ​

(1) Container

- 마이크로서비스를 위한 선택


- AWS에서는 기본적으로 ECS(Elastic Container Service)를제공하는 중.


- Kubernetes 서비스인 EKS(Elastic ContainerService for Kubernetes) 제공(Preview 버전)으로 자체 Kubernetes 클러스터를 설치, 관리 할 필요 없음.


- 클러스터에대한 관리를 원하지 않는다면 AWS Fargate로 관리 자동화 가능(현재 ECS + Fargate 는 서비스 중이며 EKS + Fargate 는준비중) 

(2) Serverless

- 개발자생선성 대폭 증가, 비즈니스 로직에 집중 가능

- AWS Lambda로 Serverless 서비스를 제공하고 있음.

- Serverless는 애플리케이션 개발영역에서 지향해야할 방향이라고 생각함 (기조연설자 Werner Vogels – 아마존 닷컴 CTO)

   

[포탈파트] #MSA #Microservice #Architecture #Monitoring #지표 #트랜잭션

## 모놀리스에서 마이크로서비스 아키텍처로의 전환 전략

> 박선용 AWS 솔루션즈 아키텍트

- 모놀리식 어플리케이션을 마이크로 서비스로 전환하는 과정을 순차적으로 살펴본다

  ​

  **강연 청취 관점**

  - 차세대 서비스 구축을 위한 마이크로서비스 아키텍쳐 설계의 레퍼런스 참고

    ; 온라인상으로는 지극히 장점 위주의 레퍼런스들이라 실제 사례가 듣고 싶었습니다.

  - 실무적인 관점

    ; 설계 및 구축시 문제가 되었던 부분에 대한 구체적인 고려 필요

  > API Gateway 와 서비스의 MSA화에 대한 이해와 구체적인 사례들이 필요하던 시점에 많은 도움이 된 써밋이였던 것 같습니다. 같은 아키텍처를 설계 하였더라도 서비스마다 문제점에는 조금의 차이점들이 있었고,
  >
  > 온라인으로 얻을 수 없었던 고급 정보여서 유익했습니다.

  ​

#### 마이크로서비스 란?

- 모놀리식 vs 마이크로서비스

![img](http://www.skyarch.net/blog/wp-content/uploads/2016/11/Screen-Shot-2015-11-03-at-5.26.09-PM.png)

- 모놀리식 아키텍처에서 작은 단위 하나의 어플리케이션이 통채로 있을 경우 장점은 분명하다.

- 모듈별로 분화된 마이크로서비스 아키텍처는 빠르게 확장하고 변화하는데 최적화 되어있다.

  ; 비지니스 요구가 빠르게 변화 할 수록 장점이 커짐.

- 마이크로서비스 아키택처(장점)

  - 개별 서비스를 소규모 모듈로 구성 가능
  - 장애에 강해짐
  - 장기적 기술 종속을 감소 (서비스별 개발 언어 제약 없음)
  - CI/CD의 장점을 극대화함

- 단점

  - 개발 환경의 미성숙(개발적인 어려움)
  - 배포의 복잡성(언어, 환경, 프레임웍이 각각 다르므로)
  - 시스템의 메모리 소요가 상대적으로 높아짐

  전제 : 엔터프라이즈에서는 보통

  - 기존에 만들어진 어플리케이션 환경에서
  - 대규모 기능이 하나의 어플리케이션에 집중되어있고
  - 서로 복잡하게 연계된 어플리케이션 환경을 가지고 있다.

- MSA 아키텍처로의 전환

  - 어떤경우에 전환 검토해야 하나?
    - 쉽고 빠른 어플리케이션의 변경
    - 새로운 개발자의 빠른 적응
    - 새 기술의 빠른 적응
    - CI/CD

#### 마이크로서비스의 발견

- MSA 전환시 중요사항
  - 안정적인 아키텍처일 것
  - 서비스는 연계가 강한 기능들의 집합일 것
  - 동일한 이유로 변경되는 것들은 하나의 서비스 일 것
  - 서비스끼리는 느슨한 결함일 것
  - 각각의 서비스는 테스트 가능할 것
  - 각 서비스는 2 pizza팀이 개발/관리가 가능할 정도의 규모일 것
- 가이드라인
  - 객체지향 원칙중
    - SRP(Single Responsibility Principle)
    - CCP(Common Closure Principle)
- 어떤 기준으로 분할 할 것인가?
  - **비즈니스 역량**(= 비지니스의 목적)에 기준한 분할
    - 서비스의 중요도에 따라서 분할한다. (비지니스 가치 창출)
  - **서브 도메인**에 의한 분할
    - 도메인 주도 디자인(DDD)
      - 비즈니스의 문제 영역을 도메인으로 호칭
      - 도메인은 여러개의 서브 도메인으로 구성
    - 서브 도메인 구분
      - 핵심 / 지원 / 일반
    - 문제점
      - 다른 조직이 서브 도메인에 연관될 경우 '핵심' 을 정하기 어렵다.
      - 서브 도메인을 특정하는것이 어렵다.
- 비즈니스 관점 vs 시스템 관점
  - **실무적인 접근** (API 정의 우선)
    - 각 기능의 상위 서비스 API 정의
    - 서비스 API를 기준으로 각 모듈 정의
    - 코어와 아닌 것을 구분
    - 어플리케이션의 로직 구조 및 Data 관점 탈피

#### 마이크로서비스 아키텍처 패턴

- 서비스 별 데이터 패턴
  - 서비스별 테이블, 서비스별 스키마, 서비스별 데이터베이스
- API 게이트웨이 패턴
  - 다양한 어플리케이션에 대한 단일한 접근 포인트를 제공한다.
- 회로 차단기(Circuit Breaker) 패턴
  - 클라이언트가 전기 회로 차단기와 비슷한 방식으로 기능하는 프록시를 통해 원격 서비스를 호출하는 패턴
- 전환시 고민할 문제들
  - 아키텍처 품질 목표
    - 확장성, 가용성, 민첩성, 운용 편의성, 성능 등
  - 분할
    - 어플리케이션
    - 데이터
  - 고민
    - 데이터 분할의 어려움 (데이터 분할 후 서비스 품질에 대한 문제가 있을 수 있음.)
    - 어플리케이션 분할의 어려움

#### 분해 (아키텍처 전환시 고려해야 할 점)

- 메인 데이터베이스
  - 외래 키의 제거
  - 공유 데이터
    - 공유 데이터를 사용하는 어플리케이션은 공유 서비스로 만들어야 한다.
  - 스키마 분리
- 리포팅 혹은 분석 데이터 베이스
  - 리포팅 시스템 데이터만을 위한 API는 이득 대비 손실이 너무 크다.
  - 메인 데이터베이스와 리포팅 데이터베이스 간에 데이터 펌프가 필요하다.
  - 이벤트 데이터 펌프는
    - 서비스가 이벤트를 발생시키면
    - 데이터펌프가 데이터를 리포팅시스템으로 전달한다.
    - 좀 더 디커플링 된다.
    - 개발에 많은 부담이 있다.
- 데이터베이스 리팩토링
  - 1단계 - 단일 스키마
  - 2단계 - 스키마 분리
  - 3단계 - 어플리케이션 분리
- 컨테이너와 AWS 서비스
  - 컨테이너 고려
    - 아키텍처 품질 목표
      - 확장성, 가용성, 민첩성, 운용 편의성, 성능 등
  - 마이크로 서비스 어플리케이션은
    - 서로 다른 어플리케이션 스택
    - 서로 다른 하드웨어 배포 환경
    - 어떻게 서로 다른 환경에서 모든 어플리케이션을 운용할 수 있을 것인가?
    - 어떻게 한개의 환경에서 다른 환경으로 쉽게 마이그레이션 할 것인가?
    - 소프트웨어 딜리버리 단위로 생각해봤을 떄
    - 가볍고, 이식성 좋고, 일관된 것은
    - 컨테이너 환경이더라.
    - 배포하고 어디서나 무엇이든 실행한다.
  - 현재 서비스 매핑
    - 2세대 MSA 아키텍처 사진 첨부

#### 정리

- 초기 시스템 설계시 부터 고려해야 한다.
- 기존 어플리케이션에 대해서는 전환계획을 수립해야 한다
- 발견, 패턴, 분할, 매핑 등 단계별 접근 고려
- 각 비즈니스 단위의 구분, 서비스의 요구사항 등 고려
- 데이터 분할에 대한 전략
- 컨테이너 기술 및 서버리스 서비스의 활용

 

## MSA 를 넘어 Function으로의 진화 - 롯데 그룹 온라인 서비스

> 롯데정보통신 주경호 수석

- 모놀리식 어플리케이션의 문제점과 마이크로서비스로 전환 후 , 그리고 Serverless에 대한 향후 진행 방향

**Managed / Serverless 중심으로 Architecture 설계**

최소한의 인력 + 직접 모든 서비스를 구축/개발/운영 = 지옥

- EC2에 설치하여 운영 해야하는 방식은 최대한 배재

**일반적인 RDB 보다 목적에 맞게 분리된 Datastore 사용**

##### 분류 방식

- 낮은Latency를 보장 해야 하는 업무 (DynamoDB)
- 잦은 스키마 변경이 예상되는 업무
- 다량의 컨텐츠 데이터가 발생 되는 업무

**MSA 설계시 고려한 사항**

- *오직 비지니스 목적만 고려*

- 아키텍처 중심이 아닌 서비스 중심의 아키텍처 설계

  문제점

  서비스 공통화 > 장애의 시발점이 될 수 있음.

- 비지니스 목적의 정규화

  "Framework과 언어의 자유"

  용도에 적합한 다양한 언어의 선택이 필수.

**번외**

AWS의 Queue 서비스 중 하나인 SQS를 이용한 서버 과진입 제어 가능. (게임 회사 사례)

 

**최종 결론**

MSA로 서비스에 대한 소규모 모듈로 분리는 하였지만, 복잡한 Logic을 가질 경우 작은 Single Monolithic Service와 동일해진다. 그러므로 Function 위주의 분리가 필요할 것 같다.

 

**시사점**

> 첫번째, 현실적인 MSA 적용방안은 비지니스 가치 창출 기준.
>
> 클라우드 서비스를 고객에게 제공할 떄 명확한 요구사항이 정해져 있고, 서비스 마다의 핵심이 달라 핵심/지원/일반의 서브 도메인을 구분하는 것이 어렵기 때문에 가장 현실적인 적용방안은 가치 창출을 기준으로 한 설계라고 생각되었습니다.
>
> 설계시 서비스 분류 후 각 기능의 상위 서비스 API정의가 선작업 될 경우 서비스 분류의 오류 범위를 좀 더 좁힐 수 있을 것 같습니다.
>
>  
>
> 두번째, MSA 설계 및 구축 시 반드시 고려해야 할 사항.
>
> - 데이터베이스 설계 (메인/ 분석/ 리포팅)
> - 공통화 서비스로 인해 장애의 시발점이 될 수 있음.
> - 인증 및 보안 관련 문제
> - 서비스의 복잡도로 인해 Single Monolithic Service가 될 가능성은?
>
>  
>
> 세번째, Severless 에 대한 고려
>
> 아키텍처 및 구축 관련 세션에서는 Severless 에 대한 내용이 주를 이뤘습니다.
>
> 서버에 대한 관리 적인 측면, 비용적인 측면, 편의성 등에 대한 고민 해소.
>
> EC2 와 Lamda의 선택에 대한 기준은
>
> Lamda의 경우 가장 중요한 것은 패키지의 사이즈가 250MB 이하가 되어야하고, 하나하나에 대한 CPU와 GPU에 따라 모델의 속도 차이가 크지 않은 경우 선택하며 가장 큰 장점은 별도의 Load Balancing 없이 병렬처리가 가능 하다는 점이 였습니다.
>
> 추후 구축시 Serverless 를 선택하지 않더라도 이해와 분석 정도는 꼭 필요한 것 같습니다.
>
>  

 

## AWS Kubernetes

> 정영준 AWS 솔루션즈 아티텍트

(1) EKS

- AWS 깃허브에서 다운로드받아 Kubernetes를 구성한다면, 온프레미스 환경과 업스트림 환경에서 동일한 User Experience를가져갈 수 있음.

- EKS는 Kubernetes의 Master 영역(Master + ETCD)을 아마존에서 매니지드 하는 형태로, 사용자는 Node영역(컨테이너가 올라가는 VM 영역)만을 관리함.

  > (L.Cloud PaaS의 경우, Master영역과 Node영역 모두 매니지드하고, 사용자는 Node영역위에 올라가는Pod(컨테이너)만 관리합니다.)


- 클러스터 명령어(kubectl) 권한은 클러스터와 연동하는 IDE인 AWS Cloud 9에서 관리 가능.

  > (L.Cloud PaaS의 경우, 사용자에게 클러스터 명령어(oc)의 권한을 주지 않습니다.)


- Kubernetes 클러스터에 대한 모든 관리를 하고싶지 않을 경우를 위해AWS Fargate(자동화) 준비 중.


- 이후 External DNS를 제공하여 서비스 디스커버리 서비스(서비스검색)를 제공할 것.

(2) 컨테이너 환경 구축의 어려운 점 가. 네트워크

- 서비스 단위의 Security Group 설정이나 방화벽 정책 적용의 어려움

  > CNI(Container Network Interface)라는 Kubernetes plug-in을 이용하여 native vpc 구성으로 간단하고 안전한 네트워킹 확보
  >
  > > (Openshift 역시 내부 CNI를 통해 native vpc를 구성하고 있어, Pod(컨테이너)들은 내부 IP를 부여받게 됩니다.)

- Overlay Network를 구성하고 싶은 경우

  > TIgera의 calico 프로젝트(네트워크 정책 API)와 Kubernetes의 Network Policy를 이용하여 Pod(컨테이너)단위 방화벽 정책 적용 가능
  >
  > > (Openshift 역시 Network Policy가 존재하며 Egress Traffic에 대한 제어는 가능합니다. 다만 보다 세분화된 정책을 적용하기 위해서는 calico project 같은 추가적인 솔루션이 필요합니다. Openshift 공식 문서를 보면, Nuage를 활용한 Openshift Network Policy rules 설정에 대해 명시하고 있습니다.)

- 다중 vpc 연결의 어려움

  > 아마존에서 매니지드를 하고있는 AKS의 Master vpc와 고객의 Node vpc의 연결은 Network Load Balancer(Static IP)를 통해 Node -> Master로 통신하게 되며
  >
  > Master -> Node는 CNI로 인해 만들어진 ENI(Elastic Network Interface)를 통해 Private Link로 암호화되어 통신하게 됩니다.
  >
  > > (Openshift Master를 공통외부에, Node를 공통 내부에 구성하는 것과 같은 아키텍처로, 부르는 명칭과 상세 아키텍처는 조금 다르나 내용은 동일합니다.)

나. 스토리지

- 인스턴스/컨테이너에서 데이터 공유 불가 및 공유 볼륨의 적절한 권한 설정 및 일정한 성능유지의 어려움

  > CSI(Container Storage Interface)를 이용하여 기존 AWS S3등의 스토리지 서비스들과 연동 가능
  >
  > > (Openshift 역시 CSI를 활용하여 PV(Persistent Volume)을 할당하며, 데이터의 공유가 가능하게 할 수 있고 Shared PV 세팅 또한 가능합니다.)

다. 모니터링

- 모니터링 세팅의 어려움

  > AWS EKS는 Kubernetes의 Helm(패키징)을 이용하여 Prometheus(모니터링 오픈소스 툴킷)를 패키징해 배포. Heapster(모니터링정보 및 이벤트 데이터 수집)와 grafana(시각화)를 이용하여 모니터링.
  >
  > > (Openshift는 Heapster, Hawkular(시각화), Cassandra(NoSQL DBMS)를 이용하여 모니터링을 제공하고 있습니다.)

 

**시사점**

> AWS의 컨테이너서비스인 ECS는 Kubernetes를 참고하여 독자적으로 서비스 아키텍처를 만들었습니다. 하지만 대세는 Google이 만든 Kubernetes로 가고있어 아마존 역시 Kubernetes를 서비스하기 시작했습니다.
>
> AWS EKS의 경우, 기존 AWS 서비스들과의 통합이 편리하다는 특장점을 가지고 있습니다. 거기에 더해Openshift처럼 Kubernetes에 모니터링이나 네트워킹 등의 기능편의를 위한 오픈소스들을 붙여 Kubernetes 클러스터를 매니지드 해주고 있습니다. 사용자 관점에서 AWS를 이용한다면 Enterprise급(예를 들면, Redhat Openshift, IBM ICP) Kubernetes를 이용할 수 있게 됩니다. 지금까지 그래왔듯이, 대내에 PaaS를 확산함에 있어 아마존과 비교를 많이 당할 것으로 판단됩니다. 아마존과 비교했을 때 우리가 구축한 PaaS의 장점을 정책적으로 또는 서비스적으로 내세울수 있어야 할 것이라고 생각합니다. 세션 내용중, 컨테이너 환경 구축의 어려운 점을 시간별(2016년말 – 2017년 중반 – 2017년 말) 그래프로 나타낸 장표가 있었는데
>
> (해당 장표내용의 원문 첨부합니다.
>
> <https://www.cncf.io/blog/2017/12/06/cloud-native-technologies-scaling-production-applications/>)
>
> 클러스터를 구성하는 부분(스토리지 및 네트워크 구성)에 비중이 높지만, 최근들어서는 모니터링에 대한 부분도 증가하고 있습니다. 이는 컨테이너환경을 개발 환경으로 사용하는 것에서 운영 환경으로 변하고 있다는 것을 나타냅니다. 제과 챗봇 서비스를 잠시 운영하면서 느꼈던 모니터링 부족을 여러 곳에서 느끼고 있는 것 같습니다. 모니터링을 보완하여 L.Cloud PaaS의 경쟁력을 가져가는 것도 하나의 방법일 것 같습니다. 플랫폼(Openshift나 Kubernetes)을 하나하나 뜯어보고 가능한 Add-on들을 확인하고 연동해보면서 제공가능한 서비스를 늘려가는 방향도 필요할 것 같습니다.
>
> 서비스가 안정화 되고 인원이 늘어나면 검토가 필요해 보입니다.

 

## 클라우드 환경에서 비즈니스 애플리케이션의 성능 통합 모니터링 방안

> 엑셈 류길현 이사

- 클라우드향 애플리케이션 특징
  - Auto Scaling 구조
    - WAS, 컨테이너의 증가/축소가 잦음
  - 마이크로서비스 아키텍처
- 클라우드향 애플리케이션 모니터링 대응방안
  - Auto Scale In/Out 대상 모니터링 제공
  - 복잡한 구조의 서비스 연계를 통합적으로 모니터링 제공
  - 신속한 장애 대응을 위한 초단위 실시간 모니터링 필요
  - 인프라 이외의 애플리케이션, 비즈니스 단위의 통합 모니터링 대응이 필요
  - 관리/운영자에 의존적인 방식보다는 AI기반 Smart 모니터링
    - 장애 발생시 사후 문제 분석 보다는, 기존 정상 부하 패턴에 따른 이상치 탐지시 사전에 예측
- 클라우드 환경의 다양한 관리 솔루션 연동 필요성
  - AWS 콘솔, openshift, kubernetes 등 연동 지원이 필요함
- 실시간 성능 모니터링
  - 모든 노드들에 대한 실시간 성능 모니터링, 장애발생시 이벤트 발생 및 원인 분석 기능
  - 실시간 액티비티 현황과 주요 지표 추이, 트랜잭션 패턴 차트를 통하여 서비스 현황 파악
- Topology View
  - 전체 시스템 아키텍처에 대한 자동 토폴로지 구성
  - 전체 시스템 아키텍처의 트랜잭션에 대한 정보 제공
- Transaction Path View
  - 개별 트랜잭션의 End-to-End 플로우를 통해 직관적인 거래 흐름과 지연 구간 파악
  - 구간 별 응답시간을 제공하여 서비스에 영향을 주는 구간을 즉시 분석 가능
- 비즈니스 관점의 대시보드
  - 비즈니스 관점의 구간별 성능 모니터링 제공
  - 금융권 - 여신, 수신, 전자금융, 상품처리 등 비즈니스 단위 구간별 상세 성능 모니터링
  - 단위 트랜잭션 관점이 아닌 주문 건수, 매출액 현황 등 비즈니스 관점의 모니터링 제공
  - 단순히 WEB-WAS-DB로 구성된 환경에서도 비즈니스 트랜잭션 관점에서도 모니터링 제공

#### 클라우드 모니터링을 위한 AI 기술

- 장애 예측 시스템

  - 다양한 성능 데이터 수집 분석을 통한 사전 장애 예측 시스템
    - 원천 데이터 수집
    - 성능 데이터 수집 및 가공
    - 사전 장애 예측 및 장애 패턴 학습(딥러닝)

- AI 적용 분야

  - 부하/장애 예측

    - 부하 예측
      - 과거 수집 데이터를 인공지능이 지속적으로 학습하여 미래 부하를 예측
    - 장애 예측
      - 수집된 데이터의 트랜드를 예측하여 미래 특정 시점에 장애가 발생할지를 미리 알려줌
    - 비정상 탐지
      - 과거 데이터를 기반으로 신뢰 궤적을 그리고 해당 궤적을 바탕으로 비정상 탐지 기능 제공

  - 장애 분석

    - 부하 패턴 분석

      - 부하 패턴을 다수의 유형으로 범주화하여 학습

    - 인과 관계 분석

      - 비정상 발생 후, 인공지능에서 해당 문제에 대한 연관 지표 학습을 통하여 증상/징후를 찾아주는 기능

    - 근본 원인 분석

      - 사전에 고객사별 장애의 원인 및 분석하는 방법을 Rule로 등록, 장애 발생시 인공지능 Rule Engine에서 장애에 대한 원인 분석 결과 제공

        ​

**시사점**

> 세미나를 통해 앞으로 진행될 통합 모니터링 프로젝트에서 새롭게 고려해볼 사항은 크게 두 가지>입니다.
>
> 첫번째는 인프라에 대한 모니터링 뿐만 아니라 애플리케이션, 비즈니스 단위의 통합 모니터링 대 >응이 필요하다는 점인데, 서비스 요청&처리 건수, 매출액 현황 등 비즈니스 관점에서의 모니터링이 >가지고 있는 데이터를 의미있게 사용할 수 있는 추가적인 방법입니다.
>
> 두번째는 관리/운영자에 의존하여 장애 발생 시 사후 문제 분석을 위주로 하는 모니터링방식에서 >점차 AI 기반 스마트 모니터링을 생각해야 합니다. 아래에 소개된 모니터링을 위한 AI 기술을 바탕으>로 원천 데이터를 수집하고 가공하여 부하/장애를 예측하고, 지속적으로 축적되는 데이터를 바탕으>로 장애 패턴을 범주화하여 장애 분석의 신뢰도를 높일 수 있습니다.

 

## AWS 상에서 비즈니스를 수행하고자 하는 고객들에게 드리는 5가지 꿀팁

> 정우근 AWS 어카운트 매니저

 

클라우드로 이전할 때 고려하는 공통적인 부분에 대한 내용을 다루었습니다.

AWS는 혁신, 확장, 비용, 보안, 마이그레이션 이렇게 다섯가지의 장점을 가지고 있다고 합니다.

Trusted advisor 라는 자가 진단 tool, 비용관리 서비스, S3 Analysis 제공으로 준비되어 있는 환경에서

비용을 절감하여 서비스를 이용할 수 있다고 합니다.

보안은 서비스 중 가장 중요시 되는 부분인데, AWS는 vpc flow logs 를 통해 위험 트래픽을 감지하는 것으로

랜섬 웨어 등의 공격을 흡수 할 수 있는 확장성을 가지고 있습니다.

또한, 마이그레이션을 적극 지원하여 방대한 데이터도 스노우 볼 등으로 운반하여 다운타임을 최소화 하고자 합니다.

다양한 시나리오로 하드웨어 타입에서도 데이터 마이그레이션을 시도 한 후 지원하기 때문에 고객사에서 예상한

다운타임보다도 적은 시간을 할애한 경험이 있다고 합니다

 

## Amazon EC2 고급 활용 기법 및 모범 사례

> 이진욱 AWS 테크니컬 트레이너

Amazon EC2는 다양한 워크로드를 수용할 수 있도록 다양한 인스턴스 유형을 제공합니다.

이 강연에서는 EC2에서 사용할 수 있는 최신 인스턴스 패밀리, 하드웨어 유형과 기능의 차이점에 대하여 설명하였습니다.

현재는 CPU, Memory, storage, network 에 따라 70여개의 인스턴스를 선택가능하다고 합니다.

범용, 컴퓨팅 최적화, 스토리지와 I/O최적화, 가속화된 컴퓨팅, 메모리 최적화, EC2 baremetal 등 다양한 인스턴스 타입이 지원되고 있습니다.

최근에는 하이퍼바이저 기술 기반 M5가 출시되어 M4대비 14%의 높은 성능의 인스턴스를 이용할 수 있다고 합니다.

크레딧 기반 버스팅으로 이용하는 T type은 크레딧을 소진해도 원하는 성능을 이용할 수 있도록 하는 T2 unlimiter intance가 지원된다고 합니다.

Elastic network adapter 는 차세대 고급 네트워킹으로 배치 그룹에서 25Gbps를 지원한다고 합니다.

OS의 성능은 EC2 성능을 개선하는 데에 영향을 주는데, 실제로 RHEL6와 RHEL7에서 성능을 비교했을 때 34배의 성능 차이가 난다고 합니다.

 

## 클라우드 세상에서 살아남기 "진화의 시작 : 인프라 엔지니어에서 Ops 엔지니어로"

> 이한주 대표이사 베스핀글로벌

엔터프라이즈 IT 시장은 2000조 가까이 된다고 합니다. 테슬라, 페이스북, 구글의 공통점은 클라우드 IT를 잘하고 있는 회사로서 User exprience를 바꾼 기업들 입니다. 클라우드 IT는 MSA(microservices architecture) 와 DevOps, CLOUD 를 총칭하여 말합니다. Ops 엔지니어의 역할이 커지고 있는데 그 이유는 빠른 개발, 빠른 배포가 되어야 하기 때문이며, 개발에만 집중할 수 있는 혁신적인 개발 환경 조성이 필요하기 때문이라고 합니다. 이를 위해 자동화 tool인 AWS DevOps tool, SaaS DevOps&Monitoring tool이 지원된다고 합니다. 클라우드 관리 플랫폼 OpsNoW는 통합대시보드, 보고서자동화, 패턴분석, 비용 최적화, Incident관리, 서비스 그룹 뷰를 지원하고 있습니다.

 

## Amazon S3 고급 활용 기법 및 모범 사례

> 박성훈 AWS 테크니컬 어카운트 매니저

S3는 방대한 양의 데이터를 저장하고 수집, 처리하는 데에 이용 됩니다. block, file, object storage를 제공하며 다양한 스토리지 클래스 관리 기능을 가지고 있습니다. S3 one-zone-Infrequent Access(IA)는 3개의 지리적으로 분리된 영역에 데이터를 배포하는 standard S3와 달리 단일 가용 영역에 데이터를 저장하며 99.5%의 가용성을 가지고 비용은 절감 할 수 있다고 합니다. S3 select는 표준 SQL 질의를 사용하여 전체 객체를 가져오는 대신에 필요 정보만 조회한다고 합니다. 모든 object를 S3에서 기본 필터링하고 필요한 정보만 넘기기 때문에 400%의 성능향상을 보인다고 합니다. Amazon Athena를 활용한 S2인벤토리 조회 데이터 전송량 조회가 가능하고, 이는 Cloudwatch 매트릭에서 직접 확인 가능합니다. 스토리지를 분석하여 S3 버킷 내 객체 사용 패턴이 분석되고 IA로 이동을 권장하는 서비스가 지원되어 고객의 비용 절감을 유도한다고 합니다. Cloud trail 을 통한 API 호출 로깅으로 보안 분석을 수행하고 IT 감사 및 규정 준수를 시행하고 있다고 합니다. S3 CRR은 리전간 복제인데 컴플라이언스 이슈 맞추기 위해, 대기 시간을 단축하기 위해 이용할 수 있다고 합니다.

 

**시사점**

> 클라우드 서비스를 이용할 때 가장 중요하게 고려되는 부분이 보안과 마이그레이션이었습니다.
>
> 특히, 클라우드 서비스를 처음 도입하는 고객사에서 기존의 데이터 마이그레이션에 대한 거부감이 없도록 다양하 시나리오에서의 마이그레이션 테스트가 중요할 것 같습니다.
>
> 또한, aws에서 제공하는 서비스들은 다양한 옵션을 갖추고 있습니다. 따라서 저희 클라우드 서비스 역시 효율성을 높이기 위해 클라우드를 선택하는 고객을 고려하여 고객이 원하는 서비스를 한눈에 선택할 수 있게 하는 것이 필요한 것 같습니다.